
<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="teacher-book-approve-card">
  <template>
    <style>
      :host {
        display: block;
      }
        .collapse-content {
    padding: 15px;
    border: 1px solid #dedede;
  }   
    section{
    top: 200px;
    right: 65%;
    width: 327px;
    height: 300px;
   }
   
   .hs-inner1
   {
    padding: 30px 20px 10px 377px;
    @apply(--layout-horizontal);
    
   }
.hs-inner1 p{
  font-size: 18px;
  line-height: 24px;
  text-align: justify;
  position: relative;
  padding: 15px 0px;
  text-shadow: 1px 0px 1px rgba(255, 255, 255, 0.8);
}

.hs-inner1 p:first-letter{
  font-size: 28px;
}.cadcdd1{
    top: 200px;
    right: 90% !important;
    width: 327px;
    height: 300px;
    margin-left:40%;
    margin-top:-16%;
       /*position: fixed;
      */overflow: auto;
   }
   .position{
    margin-left: 12%;
  
   }
   .hs-inner1
   {
    /*top: 200px;*/
    width: 344px;
    height: 340px;
    margin-top: 1%;
    overflow-y: visible;
    overflow-x: hidden;
   }
   .report1
   {
          table-layout: fixed;
          border-collapse: collapse;
          width: 93.9%;
          margin-left: 5%;
          margin-top: 5%;
   }
  

   #newcardd111
    {
        
        margin-top: 4%;
        margin-left: 20%;
        width:57%;
        height:512px; 
        border: solid 1px #555; 
        background-color: white; 
        box-shadow: inset 10px -10px 25px #77539e(0,0,0,0.6); 
        -moz-box-shadow: inset 10px -10px 25px rgba(0,0,0,0.6); 
        -webkit-box-shadow: inset 10px -10px 25px rgba(146, 93, 93, 0.6); 
        -o-box-shadow: inset 10px -10px 25px rgba(0,0,0,0.6)
    }

    img
    { 
      margin-top: -14em;
      height: 129px;
      width: 739px;
    }
    paper-dropdown-menu{
      width: 15%;
      --paper-input-container-label: { color: red };
      text-align:center;
      }
      paper-input
      {
        --paper-input-container-label: { color: red };
      text-align:center;
      }
      
     #itemcarddialog
       {
            width: 81%;
            height: 90px;
            text-align: center;
           display: inline-block;
            @apply(--layout-center);
            border-radius: 2px;
            box-shadow: rgba(0, 0, 0, 0.0980392) 0px 2px 4px, rgba(0, 0, 0, 0.0980392) 0px 0px 3px;
            padding:5px;
       }

       #bufferdialog
       {
         border-radius: 10px;
       }
     </style>
    <center><h2 hidden style="color:#00ccff">{{empnamez}}</h2></center>
     <paper-input hidden value="{{empnamez}}"></paper-input>
       
       
       <span class="position" hidden$="{{hideallvaluesss}}"> 
       <paper-dropdown-menu  label="Select The Grade">
                <paper-menu id="teacherrefffff" class="dropdown-content"   on-iron-select="fnsetgrade">
                  <template is="dom-repeat" items="{{gradearr}}">
                    <paper-item value="{{item.gradeid}}">{{item.gradename}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
      <span class="position" hidden>
        <paper-dropdown-menu  label="Select Empoyee Name">
                <paper-menu id="asdadczcsadcdasww" class="dropdown-content"   on-iron-select="fnsetemp">
                  <template is="dom-repeat" items="{{emparr}}">
                    <paper-item value="{{item.empid}}">{{item.empname}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
    
       <!-- <span class="position" hidden$="{{hideallvaluesss}}">  -->
       <span class="position" hidden> 
       <paper-dropdown-menu  label="Select The Section ">
                <paper-menu id="teacherrefyyyy" class="dropdown-content"   on-iron-select="fnsetsection">
                  <template is="dom-repeat" items="{{sectionarr}}">
                    <paper-item value="{{item.id}}">{{item.section}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
       <span class="position" hidden$="{{hideallvaluesss}}"> 
       <paper-dropdown-menu  label="Select the subject">
              <paper-menu id="teacherrefzz" class="dropdown-content"   on-iron-select="fnsetsubject">
                   <template is="dom-repeat" items="{{subjectarr}}">
                    <paper-item value="{{item.subjectid}}">{{item.subjectname}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
       <span class="position" hidden$="{{hideallvaluesss}}"> 
       <paper-dropdown-menu  label="Select the chapter">
              <paper-menu id="teacherapprovechapter" class="dropdown-content"   on-iron-select="fnselectchapter">
                   <template is="dom-repeat" items="{{chapterarr}}">
                    <paper-item value="{{item.capter_id}}">{{item.capter}}</paper-item>
                  </template>    
                </paper-menu>
         </paper-dropdown-menu>
       </span>
         

      <paper-button style="color:white;background-color:black;margin-left: 3%;" on-click="fnaddbuffer">Add Buffer period</paper-button>  



     <div id="zdsasddsasfsa" >
      <table class="report1" id="reporttabzzzzz">
        <tr style="border-bottom: 1px solid #ccc; line-height: 1.8em;border-color:#6699ff">
          <th>CONCEPT</th>
          <th>PERIOD NO</th>
          <th>DATE</th>
          <th>SKILL</th>
          <th>VALUE</th>
          <th>INNOVATION</th>
          <th>REMARKS</th>
          <th>Save</th>
          <th>Delete</th>
        
          </tr>
            <tr>
             <template  is="dom-repeat" items="{{overallarr1}}" as="view">
                <tr>
                 
                  <aproval-book-innovatiosn-item-card  remark="{{view.Remarks}}" period="{{view.period}}" planneddate="{{view.planned_date}}" skill="{{view.skill}}" innovation="{{view.innovation}}" iddate="{{view.id_date}}" hidecheck="{{view.hidecheck}}" hidecheck1="{{view.hidecheck1}}" masskill="{{view.masskill}}" conceptzz="{{view.valuearrr}}" > 
                  </aproval-book-innovatiosn-item-card>
                </tr> 
              </template>  
            </tr>  
      </table>
    
   <paper-dialog id="bufferdialog" modal>

      <paper-checkbox id="Chaperzzzzidzz" on-change="fnchapter">Chapter</paper-checkbox>
      <paper-checkbox id="Conceptzzzidzz" on-change="fnconceptzz">Concept</paper-checkbox>
        <div  hidden$="{{chaptbuffidz}}">
      <paper-input label="Enter Buffer period" value="{{bufferperiod}}"></paper-input>
      </div>
      <div  hidden$="{{Conceptbuffidz}}">
        <paper-input label="Enter Buffer period" value="{{bufferperiod}}"></paper-input>
        <paper-dropdown-menu  label="Select the concept" style="width:100%;margin-left: -1%;">   
        <paper-menu  class="dropdown-content"   on-iron-select="fnselectconcept">
                 <template is="dom-repeat" items="{{conceptarr}}">
                    <paper-item value="{{item.concept_id}}">{{item.concept}}</paper-item>
               </template>    
                </paper-menu>
        </paper-dropdown-menu>
        </div>
        <center> 
         <div></div>
        <paper-button id="sub11" on-click="fnconsubmit" style="color:white;background-color:black">Submit</paper-button>
        <paper-button id="sub2222" on-click="fncaptsubmit"  style="color:white;background-color:black">Submit</paper-button>
        <paper-button id="cls111" on-click="fnclose" style="color:white;background-color:black">Close</paper-button></center>
     </paper-dialog>

     <teacher-book-service-card id="bookservice"></teacher-book-service-card>
  </template>


  <script>
  (function() {
    'use strict';
   var conceptidz;
   var conceptnamez;
    
    Polymer({
      is: 'teacher-book-approve-card',
        fnhide:function()
        {
             Conceptzzzidzz.checked=false;
             Chaperzzzzidzz.checked=false;
             this.Conceptbuffidz=true;
             this.chaptbuffidz=true;
             this.$.sub11.hidden=true;
             this.$.sub2222.hidden=true;
             this.$.cls111.hidden=true;
         },
        fncaptsubmit:function(e){
          this.$.bookservice.buffset11(this.bufferperiod,conceptidz,conceptnamez);
          this.$.bookservice.subflagseqe();

        },
        fnconsubmit:function(e){
        //alert(this.bufferperiod);      
     this.$.bookservice.buffset(this.bufferperiod);
            this.bufferperiod="";
            this.$.bookservice.subflagseqe();


        },
    fnchapter:function(e){
          //alert(Chaperzzzzidzz.checked);
          if(Chaperzzzzidzz.checked==true)
          {
            Conceptzzzidzz.checked=false;
            this.$.sub11.hidden=false;
            this.$.sub2222.hidden=true;
            this.$.cls111.hidden=false;
            this.Conceptbuffidz=true;
            this.chaptbuffidz=false;
          }

        },
        fnconceptzz:function(e){
          this.$.bookservice.fnbuffconcept();
          if(Conceptzzzidzz.checked==true)
          {
            Chaperzzzzidzz.checked=false;
            this.Conceptbuffidz=false;
            this.chaptbuffidz=true;
            this.$.sub11.hidden=true;
            this.$.sub2222.hidden=false;
            this.$.cls111.hidden=false;
          }
        },
       
        fnclose:function()
        {
          this.$.bufferdialog.close();
          Chaperzzzzidzz.checked=false;
          Conceptzzzidzz.checked=false;
          this.chaptbuffidz=true;
          this.Conceptbuffidz=true;
        },

    
        fnsetval:function(e)
        {
   
        },
 fnaddbuffer:function(e){
  this.$.bufferdialog.toggle();
  this.$.bookservice.subflagseqe();


 },

     asdadczcsadcdas:function(e){
     document.querySelector('#asdadczcsadcdasww').selected=-1;
 
   },


     fnsetgrade:function(e){
    this.gradeid=e.target.selectedItem.value;
      sessionStorage.setItem("grdeidz",this.gradeid);
     this.gradename=e.target.selectedItem.textContent.trim()
      this.$.bookservice.bookrefsection(this.gradeid,this.gradename);
    }, 
     fnselectchapter:function(e){
      this.chapterid=e.target.selectedItem.value;
      this.chaptername=e.target.selectedItem.textContent.trim();
      localStorage.setItem("curr_sess_capters",this.chapterid); 
      this.$.bookservice.FnFetchConceptService(this.gradeid,this.subjectid,this.chapterid);
      this.$.zdsasddsasfsa.hidden=false;
      this.$.bookservice.conceptseq();
       document.querySelector('aproval-book').fnsetapproveclear();
       },
fnselectconcept:function(e){
      this.conceptid=e.target.selectedItem.value;
      this.conceptname=e.target.selectedItem.textContent.trim();
      localStorage.setItem("curr_sess_chapterid",this.conceptid); 
      conceptidz=this.conceptid;
      conceptnamez=this.conceptname
      },
    fnsetsection:function(e){
       this.sectionid=e.target.selectedItem.value;
       this.sectionname=e.target.selectedItem.textContent.trim();
       sessionStorage.setItem("sectoinidz",this.sectionid);
       this.$.bookservice.bookapprvvalsubject(this.gradeid,this.sectionid);
        document.querySelector('#teacherrefzz').selected=-1;
        },
    /*fnsetemp:function(e){
         this.empid=e.target.selectedItem.value;
       sessionStorage.setItem("empidz",this.empid);
       this.empname=e.target.selectedItem.textContent.trim();
        document.querySelector('#teacherrefyyyy').selected=-1;
        document.querySelector('#teacherrefzz').selected=-1;
    },*/
     fnsetsubject:function(e){
       this.subjectid=e.target.selectedItem.value;
       this.subjectname=e.target.selectedItem.textContent.trim();
       sessionStorage.setItem("subjectidz",this.subjectid);
        this.$.bookservice.FnFetchChapterService(this.gradeid,this.subjectid); 
      }, 
  fnRefresh:function()
     {
        document.querySelector('#teacherrefffff').selected=-1;
        document.querySelector('#asdadczcsadcdasww').selected=-1;
        document.querySelector('#teacherrefyyyy').selected=-1;
        document.querySelector('#teacherrefzz').selected=-1;
        document.querySelector('#teacherapprovechapter').selected=-1;
        this.$.zdsasddsasfsa.hidden=true;
  
     }
    
    });
  })();
  </script>
</dom-module>