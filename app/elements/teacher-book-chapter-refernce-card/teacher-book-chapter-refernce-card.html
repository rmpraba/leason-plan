

<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-input/paper-textarea.html">


<dom-module id="teacher-book-chapter-refernce-card">
  <template>
    <style>
      :host {
        display: block;
      } 
     .cadcdd1{ 
      /*top: 200px;*/
    right: 90% !important;
    width: 411px;
    height: 300px;
    margin-left: 5%;
    margin-top: 0%;
    /*position: fixed;
      */overflow: auto;

    }
    paper-fab{
      background-color: #ff0080;
      color: white;
      bottom: 129px;
      left: 94%;
    }
   
   #selcard
   {

    margin-left: 10%;
    margin-top: 2%;
    width: 1090px;
    height: 452px;

    border: solid 1px #555; 
    background-color: white; 
    box-shadow: inset 10px -10px 25px #77539e(0,0,0,0.6); -moz-box-shadow: inset 10px -10px 25px rgba(0,0,0,0.6); -webkit-box-shadow: inset 10px -10px 25px rgba(146, 93, 93, 0.6); -o-box-shadow: inset 10px -10px 25px rgba(0,0,0,0.6);
   }

    .selcard11
   {
    @apply(--layout-horizontal);
     margin-left: 49%;
    /* top: -58em; */
    width: 50%;
    height: 531px;
    margin-top: -28.5%;
  }
   
   h1
   {

    font-size: 22px;
   }
   /*.tdinvoi{
   border-bottom: 1px solid #ccc; line-height: 1.8em;
   }
*/   .dialog-right-position {
      position: fixed;
        height: 23%;
    top: 15.5%;
    right: 70.9%;
    width: 20%;
    }
    .dialog-right-position::shadow #scroller {
      width: 500px;
      height: 350px;
    }  
    .cadcdd11
    {
      top: 200px;
    right: 90% !important;
    height: 297px;
    margin-left: 7%;
    margin-top: 4%;
    overflow: auto;   
    }
   #textarea
    {
          position: absolute;
        overflow-x: hidden;
        overflow-y: visible;
        height: 110px;
        width: 30%;   
        margin-top: -3%;
    }
   /* paper-button
    {
       background-color: #363636;
      color: #ffffff; 
      width: 7%;
      margin-left: 22em;
      margin-top: 5%;
    }
*/

    .newcardzz
    {
      @apply(--layout-horizontal);
      margin-left: 49%;
      width: 50%;
      height: 531px;
      margin-top: -28.5%;
    }
    </style> 

 
<paper-card id="selcard">
   <div style="background-color: #9370DB;
        padding-top: 13%;height: 4px;width: 1091px;">
        <paper-icon-button icon="arrow-back" on-click="passset" 
            style="position: absolute;margin-top: -12%;margin-left: 2%;color: white;">
        </paper-icon-button>

      <h1 style="color:white;position: fixed;margin-top: -7%;margin-left: 38%;"><b>{{capthead}}</b></h1>

      <paper-fab  icon="add" mini on-click="fnset"></paper-fab>
    </div>
    <div class="card-actions">
     
      <div class="cadcdd1">
        <table style="width: 80%;">
          <template is="dom-repeat" items="{{conceptarr}}" as="s">
            <tr>
              <td style="border-bottom: 1px solid #ccc; line-height: 1.8em;">{{s.concept}}</td>
              <td style="border-bottom: 1px solid #ccc; line-height: 1.8em;"><h5 style="color:#1B78CF;padding-left: 40px;">{{s.planned_date}}</h5></td>
    
              <td style="border-bottom: 1px solid #ccc; line-height: 1.8em;">
                <aproval-book-value-item-card  conceptdate="{{s.planned_date}}" conceptid="{{s.concept_id}}" conceptname="{{s.concept}}"></aproval-book-value-item-card>  
              </td>
              <td  style="border-bottom: 1px solid #ccc; line-height: 1.8em;">
                <paper-icon-button icon="delete" style="color:#ff1493"></paper-icon-button>
              </td>
            </tr>  
          </template>
        </table>  
      </div> 
    </div>



    <div id="hideprecard">
      <div class="selcard11">
        <div class="card-actions">
          <div>
            <table style="border-collapse: collapse;width: 450px;margin-top: 12%">
              <tr style="border-bottom: 1px solid #ccc; line-height: 1.8em;">
                <th style="text-align: left;">ENTER THE CONCEPT</th>
                <th style="text-align: center;"> DATE</th>
                <th>CURRENT DATE</th>
              </tr>

              <tr>
                <td>
                  <paper-textarea id="textarea" label="concept" value="{{concept}}"></paper-textarea>
                </td>
                <td>
                  <paper-icon-button style="margin-top: 2%;position: absolute;
                  color: #1B78CF;" icon="date-range" on-click="FnShowDialog">
                  </paper-icon-button>
                </td>
                <td>
                  <paper-input readonly raised value="{{showdate}}"  style="margin-top: 2em;margin-left: 20%;"></paper-input>
                </td>
              </tr>
            </table>
                <paper-button  style=" background-color: #363636;color: #ffffff;width: 7%;    
                  margin-left: 13em;margin-top: 11%;"  on-click="fnsetconcept">Submit</paper-button>    
        </div> 
      </div>
    </div>
    <!-- </paper-card> -->
    </div>  

  <div id="newcadhide">
    <div class="newcardzz">
        <paper-input hidden value={{captheadid}}></paper-input>

      <div class="card-actions">
        <div>
            <table style="border-collapse: collapse;width: 450px;margin-top: 12%">
              <tr style="border-bottom: 1px solid #ccc; line-height: 1.8em;">
                <th style="text-align: left;">ENTER THE CONCEPT</th>
                <th style="text-align: center;"> DATE</th>
                <th>CURRENT DATE</th>
              </tr>

             <tr>
                <td>  
                  <paper-textarea id="textarea" label="concept" value="{{conceptnamez}}"></paper-textarea>
                </td>
                <td>
                  <paper-icon-button style="margin-top: 2%;position: absolute;
                  color: #1B78CF;" icon="date-range" on-click="FnShowDialog">
                  </paper-icon-button>
                </td>
                <td>
                  <paper-input readonly raised value="{{conceptdatez}}"  style="margin-top: 2em;margin-left: 20%;"></paper-input>
                </td>
              </tr>
            </table>

                <paper-button  style=" background-color: #363636;color: #ffffff;width: 7%;
                margin-left: 13em;margin-top: 11%;"  on-click="fnnnsubmit">Submit
                </paper-button>    
          </div> 
        </div>
          <!-- </paper-card> -->
        </div>
      </div>  

    </paper-card>


 
    <div class="card">
      <paper-dialog id="dialog" class="paper-date-picker-dialog" modal on-iron-overlay-closed="FnDismissDialog">
        <paper-date-picker id="picker" date="{{date}}"></paper-date-picker>
        <div class="buttons">
           <paper-button dialog-dismiss>Cancel</paper-button>
           <paper-button dialog-confirm>OK</paper-button>
        </div>
      </paper-dialog>
    </div>


    <dialog-page id="ID_Show_Dialog"></dialog-page>
    
     
  <teacher-book-service-card id="bookservice"></teacher-book-service-card>


  </template>
  <script>
  (function() {
    'use strict';
var conceptid;
var skll2=[];
var val1=[];

    Polymer({  
      is: 'teacher-book-chapter-refernce-card',

ready:function()
  {
    this.showdate=moment(new Date()).format('L');
    localStorage.setItem("localsess_last_service",this.showdate);
    //this.$.service.feereport(this.showdate);
    this.$.newcadhide.hidden=true;
    //this.hideprecard=true;
     this.$.hideprecard.hidden=true;

  },
  FnShowDialog:function(){
    this.date=new Date();
    this.$.dialog.toggle();
  },
  FnDismissDialog:function(e)
  {
    if(e.detail.confirmed)
     {
      var pickdate=moment(this.$.picker.date).format('L');
      var dd1=new Date();
      var dd2=new Date(pickdate);
      var days=parseInt((dd1 - dd2) / (1000 * 60 * 60 * 24));
          this.showdate = moment(this.$.picker.date).format('L');
          localStorage.setItem("localsess_last_service",this.showdate);
  }
},
passset:function(e){
//alert('1');
 document.querySelector('app-card').setPage('homepage','');
document.querySelector('home-page').setPage('teacher-book-refernce-card','');

},
fnset:function(e){
  
     this.$.bookservice.conceptseq();
    this.$.newcadhide.hidden=true;
    this.$.hideprecard.hidden=false;
    this.showdate="";
  },
  fnsetconcept:function(e){
  // alert(this.captheadid+ " "+this.concept+" "+conceptid+" "+this.showdate);
    this.$.bookservice.fnsendconcept(this.captheadid,this.concept,conceptid,this.showdate);
   this.concept="";
      this.$.newcadhide.hidden=true;
       this.$.hideprecard.hidden=true;
    },

conceptidget:function(value)
   {
    conceptid=value;
   },
  fnrefresh:function()
   {
      this.innovation="";
      skll2="";
      val1="";
   },
  FnEdit:function(e)
  {
    this.$.newcadhide.hidden=false;
    this.$.hideprecard.hidden=true;
  },
  fnnnsubmit:function(){
   //  alert(this.captheadid+ " "+this.conceptnamez+" "+localStorage.getItem("curr_sess_conceptid")+" "+this.showdate);
this.$.bookservice.fnbookupdatevalue(this.captheadid,this.conceptnamez,this.showdate)
       this.$.newcadhide.hidden=true;
       this.$.hideprecard.hidden=true;
     ;
  
  }

    });
  })();
  </script>
</dom-module>
